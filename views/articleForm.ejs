<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>

  <body>
    <%- include('partials/navbar') %>

      <div class="container">
        <div class="form-container">
          <h1 class="page-title">
            <%= title %>
          </h1>

          <% if (typeof error !=='undefined' && error) { %>
            <div class="alert alert-error">
              <%= error %>
            </div>
            <% } %>

              <form action="<%= action %>" method="POST" enctype="multipart/form-data" id="articleForm"
                class="article-form needs-validation" novalidate>
                <div class="form-group">
                  <label for="title">Article Title</label>
                  <input type="text" id="title" name="title" value="<%= article ? article.title : '' %>" required
                    placeholder="Enter your article title...">
                </div>

                <div class="form-group">
                  <label for="content">Content</label>
                  <textarea id="content" name="content" rows="15" required
                    placeholder="Write your article content here..."><%= article ? article.content : '' %></textarea>
                </div>

                <div class="form-group">
                  <label for="tags">Tags (comma-separated)</label>
                  <input type="text" id="tags" name="tags"
                    value="<%= article && article.tags ? article.tags.join(', ') : '' %>"
                    placeholder="e.g., technology, programming, web development">
                </div>

                <div class="form-group">
                  <label for="image">Upload Image</label>
                  <input type="file" name="image" id="image" class="form-control" />
                </div>

                <div class="form-actions">
                  <button type="submit" class="btn btn-primary">
                    <%= article ? 'Update Article' : 'Publish Article' %>
                  </button>
                  <a href="<%= article ? '/my-articles' : '/' %>" class="btn btn-secondary">Cancel</a>
                </div>
              </form>
        </div>
      </div>
  </body>

</html>